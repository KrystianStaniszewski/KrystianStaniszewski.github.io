(function(e){function t(t){for(var i,n,o=t[0],l=t[1],c=t[2],d=0,u=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);p&&p(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var i={},a={app:0},r=[];function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=i,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var p=l;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var i=s("85ec"),a=s.n(i);a.a},"0f72":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e._m(0),s("ApiGouv")],1)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{attrs:{href:"./"}},[i("img",{attrs:{id:"siviewlogo",alt:"",src:s("cf05")}})])}],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"form"}},[s("div",{staticClass:"sugdel",on:{click:function(t){e.modal=!1,e.modal2=!1}}}),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.pays,expression:"pays"}],staticClass:"field-input",attrs:{type:"text",autocomplete:"off",name:"doge"},domProps:{value:e.pays},on:{focus:function(t){e.modal2=!0,e.reset_var()},input:function(t){t.target.composing||(e.pays=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Pays")]),s("span",{staticClass:"border"})]),e.paystab&&e.modal2?s("nav",{staticClass:"relative z-10"},e._l(e.paystab,(function(t,i){return s("ul",{key:"L-"+i,staticClass:"suges"},[null!=t?s("li",{staticStyle:{cursor:"pointer"},on:{click:function(s){return e.replace(t)}}},[e._v(e._s(t))]):e._e()])})),0):e._e(),"France"===e.pays?s("div",{staticClass:"relative z-10"},[s("button",{staticClass:"btn first",on:{click:function(t){e.modal2=!1,(e.select_form="siret/siren")&&e.reset_var()}}},[e._v("siret/siren")]),s("button",{staticClass:"btn first",on:{click:function(t){e.modal2=!1,(e.select_form="adresse")&&e.reset_var()}}},[e._v("adresse")]),"adresse"===e.select_form?s("div",{attrs:{id:"error"}},[s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.raison_sociale,expression:"raison_sociale"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.raison_sociale},on:{click:function(t){e.modal=!1,e.modal2=!1},input:function(t){t.target.composing||(e.raison_sociale=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Raison Sociale")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse1,expression:"adresse1"}],attrs:{type:"text",placeholder:" ",autocomplete:"off"},domProps:{value:e.adresse1},on:{focus:function(t){e.modal=!0,e.modal2=!1},input:function(t){t.target.composing||(e.adresse1=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Adresse")]),s("span",{staticClass:"border"})]),s("div"),e.adresse1&&e.modal?s("div",e._l(e.filteredStates.features,(function(t,i){return s("ul",{key:"A-"+i,staticClass:"suges"},[s("li",{on:{click:function(s){return e.setState(t.properties.name,t.properties.city,t.properties.postcode,t.geometry.coordinates[0],t.geometry.coordinates[1],t.properties.label,null)}}},[e._v(" "+e._s(t.properties.label)+" ")])])})),0):e._e(),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse2,expression:"adresse2"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.adresse2},on:{click:function(t){e.modal=!1,e.modal2=!1},input:function(t){t.target.composing||(e.adresse2=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Adresse 2")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse3,expression:"adresse3"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.adresse3},on:{click:function(t){e.modal=!1,e.modal2=!1},input:function(t){t.target.composing||(e.adresse3=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Adresse 3")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postcode,expression:"postcode"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.postcode},on:{click:function(t){e.modal=!1,e.modal2=!1},input:function(t){t.target.composing||(e.postcode=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Code postal")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.ville,expression:"ville"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.ville},on:{click:function(t){e.modal=!1,e.modal2=!1},input:function(t){t.target.composing||(e.ville=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Ville")]),s("span",{staticClass:"border"})]),s("div"),s("button",{staticClass:"btn first",on:{click:function(t){e.modal2=!1,e.reset_error(),e.add_popup()}}},[e._v("valider")])]):e._e(),"siret/siren"===e.select_form?s("div",[s("p",{staticClass:"sar"},[e._v("Veuillez entrer votre numéro de Siret ou Siren")]),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.siret,expression:"siret"}],attrs:{type:"text",autocomplete:"off",placeholder:" "},domProps:{value:e.siret},on:{focus:function(t){e.resetSiren(),e.resetSiret()},click:function(t){e.modal=!0,e.modal2=!1},input:function(t){t.target.composing||(e.siret=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Siret")]),s("span",{staticClass:"border"})]),s("div"),e.siret&&!e.siren&&e.modal?s("div",[null!=e.filteredStates.etablissement?s("ul",{staticClass:"suges"},[s("li",{on:{click:function(t){return e.setState(e.filteredStates.etablissement.geo_l4,e.filteredStates.etablissement.libelle_commune,e.filteredStates.etablissement.code_postal,e.filteredStates.etablissement.longitude,e.filteredStates.etablissement.latitude,e.filteredStates.etablissement.geo_adresse,e.filteredStates.etablissement.unite_legale.denomination)}}},[e._v(" "+e._s(e.filteredStates.etablissement.geo_adresse)+" ")])]):e._e()]):e._e(),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.siren,expression:"siren"}],attrs:{type:"text",autocomplete:"off",placeholder:" "},domProps:{value:e.siren},on:{focus:function(t){e.resetSiret(),e.resetSiren()},click:function(t){e.modal=!0,e.modal2=!1},input:function(t){t.target.composing||(e.siren=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Siren")]),s("span",{staticClass:"border"})]),s("div"),e.siren&&!e.siret&&e.modal?s("div",["undefined"!=typeof e.filteredStates&&null!=e.filteredStates&&"undefined"!=typeof e.filteredStates.unite_legale?s("ul",{staticClass:"suges"},[s("li",{on:{click:function(t){return e.setState(e.filteredStates.unite_legale.etablissements[0].geo_l4,e.filteredStates.unite_legale.etablissements[0].libelle_commune,e.filteredStates.unite_legale.etablissements[0].code_postal,e.filteredStates.unite_legale.etablissements[0].longitude,e.filteredStates.unite_legale.etablissements[0].latitude,e.filteredStates.unite_legale.etablissements[0].geo_adresse,e.filteredStates.unite_legale.denomination)}}},[e._v(" "+e._s(e.filteredStates.unite_legale.etablissements[0].geo_adresse)+" ")])]):e._e()]):e._e(),s("button",{staticClass:"btn first",on:{click:function(t){e.modal2=!1,e.reset_error(),e.add_popup()}}},[e._v("valider")])]):e._e()]):e._e(),"France"!=e.pays?s("div",e._l(e.continents,(function(t,i){return s("div",{key:i},e._l(t,(function(t,i){return s("div",{key:"B-"+i},[e.pays===t.translations.fr?s("div",{attrs:{id:"error2"}},[s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.raison_sociale,expression:"raison_sociale"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.raison_sociale},on:{click:function(t){e.modal=!1,e.modal2=!1},input:function(t){t.target.composing||(e.raison_sociale=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Raison Sociale")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse1,expression:"adresse1"}],attrs:{type:"text",placeholder:" ",autocomplete:"off"},domProps:{value:e.adresse1},on:{click:function(t){e.modal2=!1},input:function(t){t.target.composing||(e.adresse1=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Adresse")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse2,expression:"adresse2"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.adresse2},on:{click:function(t){e.modal2=!1},input:function(t){t.target.composing||(e.adresse2=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Adresse 2")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse3,expression:"adresse3"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.adresse3},on:{click:function(t){e.modal2=!1},input:function(t){t.target.composing||(e.adresse3=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Adresse 3")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postcode,expression:"postcode"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.postcode},on:{click:function(t){e.modal2=!1},input:function(t){t.target.composing||(e.postcode=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Code postal")]),s("span",{staticClass:"border"})]),s("div"),s("label",{staticClass:"inp",attrs:{for:"inp"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.ville,expression:"ville"}],attrs:{type:"text",placeholder:" "},domProps:{value:e.ville},on:{click:function(t){e.modal2=!1},input:function(t){t.target.composing||(e.ville=t.target.value)}}}),s("span",{staticClass:"label"},[e._v("Ville")]),s("span",{staticClass:"border"})]),s("div"),s("button",{staticClass:"btn first relative z-10",on:{click:function(t){e.modal2=!1,e.reset_error(),e.add_popup()}}},[e._v("valider")])]):e._e()])})),0)})),0):e._e()])},o=[],l=(s("d81d"),s("2ca0"),s("bc3a")),c=s.n(l),p=s("e11e"),d=s.n(p),u={data:function(){return{api_adresse:"https://api-adresse.data.gouv.fr/search/",api_country:"https://restcountries.eu/rest/v2/region/",api_entreprise:"https://entreprise.data.gouv.fr/api/sirene/v3/",option_siret:"etablissements/",option_siren:"unites_legales/",option_adresse:"?q=",option_limit:"&limit=10",option_ville:"&type=street",option_postcode:"&postcode=",siret:"",siren:"",label:"",raison_sociale:"",adresse1:"",adresse2:"",adresse3:"",ville:"",postcode:"",lat:"",lon:"",http:"",select_form:"",complement_adresse:"",popup:document.createElement("ul"),info_popup:document.createElement("li"),map:document.createElement("div"),mymap:document.createElement("div"),close:document.createElement("button"),erreur_sociale:document.createElement("p"),erreur_complete:document.createElement("p"),erreur_etrangere:document.createElement("p"),autocomplete:!1,check_input:!1,searching:!1,modal:!1,modal2:!1,pays:"",paysta:[],paystab:[],compteur:0,states:[],filteredStates:[],continents:[],Ncontinents:["europe","asia","africa","americas","oceania"],xcontinent:0}},created:function(){var e=this;if(0==this.xcontinent)while(this.xcontinent<this.Ncontinents.length)c.a.get(this.api_country+this.Ncontinents[this.xcontinent]).then((function(t){e.continents.push(t.data);var s=0;if(e.compteur==e.continents.length-1){while(s<e.continents[e.compteur].length)"France"!=e.continents[e.compteur][s].translations.fr&&e.paysta.push(e.continents[e.compteur][s].translations.fr),"France"==e.continents[e.compteur][s].translations.fr&&e.paysta.unshift(e.continents[e.compteur][s].translations.fr),s++;e.compteur=e.compteur+1}e.paystab=e.paysta})),this.xcontinent=this.xcontinent+1},updated:function(){var e=this;this.adresse1&&(this.http=this.api_adresse+this.option_adresse+this.adresse1,this.ville&&(this.http=this.http+"+"+this.ville+this.option_ville),this.postcode&&(this.http=this.http+this.option_postcode+this.postcode),c.a.get(this.http).then((function(t){e.filterStates(t.data)}))),this.siret&&!this.siren&&14==this.siret.length&&""!=this.siret&&(this.http=this.api_entreprise+this.option_siret+this.siret,c.a.get(this.http).then((function(t){e.filterStates(t.data)}))),this.siren&&!this.siret&&9==this.siren.length&&""!=this.siren&&(this.http=this.api_entreprise+this.option_siren+this.siren,c.a.get(this.http).then((function(t){e.filterStates(t.data)})))},methods:{reset_error:function(){this.erreur_complete.innerHTML&&(this.erreur_complete.innerHTML="",document.getElementById("error").removeChild(this.erreur_complete)),this.erreur_sociale.innerHTML&&(this.erreur_sociale.innerHTML="",document.getElementById("error").removeChild(this.erreur_sociale)),this.raison_sociale&&this.adresse1&&this.postcode&&this.ville&&(this.erreur_etrangere.innerHTML&&(this.erreur_etrangere.innerHTML="",document.getElementById("error").removeChild(this.erreur_etrangere)),this.check_input=!0)},reset_var:function(){this.siret="",this.siren="",this.raison_sociale="",this.adresse1="",this.adresse2="",this.adresse3="",this.ville="",this.postcode="",this.lat="",this.lon="",this.http="",this.autocomplete=!1,this.reset_error()},filterStates:function(e){this.filteredStates=e},setState:function(e,t,s,i,a,r,n){this.adresse1=e,this.ville=t,this.postcode=s,this.modal=!1,this.lat=a,this.lon=i,this.label=r,this.autocomplete=!0,"siret/siren"===this.select_form&&(this.raison_sociale=n)},add_popup:function(){"France"==this.pays&&"adresse"==this.select_form&&(this.autocomplete&&this.raison_sociale?this.check_input=!0:(this.check_input=!1,0==this.raison_sociale&&(this.erreur_sociale.innerHTML="Vous devez renseigner le champ Raison Sociale",this.erreur_sociale.className="sar2",document.getElementById("error").appendChild(this.erreur_sociale)),0==this.autocomplete&&(this.erreur_complete.innerHTML="Vous devez sélectionner une suggestion dans le champ adresse",this.erreur_complete.className="sar2",document.getElementById("error").appendChild(this.erreur_complete)))),"France"==this.pays&&"siret/siren"==this.select_form&&(this.autocomplete?this.check_input=!0:this.check_input=!1),"France"!=this.pays&&(this.raison_sociale&&this.adresse1&&this.postcode&&this.ville?this.check_input=!0:(this.check_input=!1,this.erreur_etrangere.innerHTML="Veuillez renseigner les champs Raison Sociale, Adresse, Code Postale et Ville.",this.erreur_etrangere.className="sar2",document.getElementById("error2").appendChild(this.erreur_etrangere))),this.check_input&&this.init_popup()},init_popup:function(){if(this.map=document.createElement("div"),this.mymap=document.createElement("div"),this.mymap.setAttribute("id","mymap"),document.getElementById("form").appendChild(this.mymap),"France"!=this.pays&&this.adresse1&&(this.complement_adresse="<li class='lipop'>"+this.adresse1+"</li>"),this.adresse2&&(this.complement_adresse+="<li class='lipop'>"+this.adresse2+"</li>"),this.adresse3&&(this.complement_adresse+="<li class='lipop'>"+this.adresse3+"</li>"),"France"!=this.pays&&this.postcode&&(this.complement_adresse+="<li class='lipop'>"+this.postcode+"</li>"),"France"!=this.pays&&this.ville&&(this.complement_adresse+="<li class='lipop'>"+this.ville+"</li>"),this.popup.innerHTML="<li class='lipop'>"+this.raison_sociale+"</li><li class='lipop'>"+this.label+"</li>"+this.complement_adresse+"<li class='lipop'>"+this.pays+"</li>",document.getElementById("mymap").appendChild(this.popup),this.popup.setAttribute("id","popup"),"France"==this.pays){this.map.setAttribute("id","map"),document.getElementById("mymap").appendChild(this.map);var e=d.a.map("map").setView([this.lat,this.lon],18);d.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e),d.a.marker([this.lat,this.lon]).addTo(e).bindPopup(this.adresse1).openPopup()}this.close.innerHTML="Fermer",this.close.className="btn first",this.close.setAttribute("onclick","document.getElementById('form').removeChild(document.getElementById('mymap'))"),document.getElementById("mymap").appendChild(this.close)},resetSiret:function(){this.siret="",this.autocomplete=!1},resetSiren:function(){this.siren="",this.autocomplete=!1},filterpaysta:function(){var e=0;this.paystab=[];while(this.paysta.length>e)null!==this.paysta[e]&&""!==this.paysta[e]&&this.paysta[e].toLowerCase().startsWith(this.pays.toLowerCase())&&this.paystab.push(this.paysta[e]),e++},replace:function(e){this.pays=e,this.modal2=!1}},watch:{pays:function(){this.filterpaysta()}}},m=u,h=(s("e0c0"),s("2877")),f=Object(h["a"])(m,n,o,!1,null,null,null),v=f.exports,_={name:"app",components:{ApiGouv:v}},g=_,b=(s("034f"),Object(h["a"])(g,a,r,!1,null,null,null)),y=b.exports;s.d(t,"HTTP",(function(){return C})),i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(y)}}).$mount("#app");var C=c.a.create({baseURL:"http://jsonplaceholder.typicode.com/",headers:{Authorization:"Bearer {token}"}})},"85ec":function(e,t,s){},cf05:function(e,t,s){e.exports=s.p+"img/logo.355812bf.png"},e0c0:function(e,t,s){"use strict";var i=s("0f72"),a=s.n(i);a.a}});
//# sourceMappingURL=app.bdecec6a.js.map